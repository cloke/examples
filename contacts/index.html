<!DOCTYPE html>
<html>
  <head>
    <title>Ember.js Contacts</title>
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" charset="utf-8">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.0.min.js"></script>
    <script type="text/javascript" src="../lib/handlebars.js"></script>
    <script type="text/javascript" src="../lib/ember.js"></script>
    <script type="text/javascript" src="app.js"></script>
  </head>
  <body>
    <div id="container">
      <script type="text/x-handlebars" data-template-name="contacts">
        <h2>My Contacts</h2>
        <ul>
          {{#each contact in content}}
            {{#view App.ContactListView contentBinding="contact"}}
              {{#with view.content}}
                {{#if hasName}}
                  {{#if lastName}}
                    {{firstName}} <b>{{lastName}}</b>
                  {{else}}
                    <b>{{firstName}}</b>
                  {{/if}}
                {{else}}
                  <span class="no-name">no name</span>
                {{/if}}
              {{/with}}
            {{/view}}
          {{/each}}
        </ul>
        <button {{action "newContact"}}>New Contact</button>
      </script>

      <script type="text/x-handlebars" data-template-name="contact">ssss
        {{controller}}
        {{#if content}}
          {{#view App.CardView}}
            <div class="name">
              {{view App.EditField valueBinding="firstName" disabled="true"}} {{view App.EditField valueBinding="lastName"}}
            </div>

            <table class="phone-numbers">
              {{#each content.phoneNumbers}}
                <tr>
                  <td>{{view App.EditField valueBinding="number"}}</td>
                  <td>{{view App.DeleteNumberView contentBinding="this"}}</td>
                </tr>
              {{/each}}
            </table>
            {{#view Ember.Button target="contentView" action="addPhoneNumber"}}
              Add Phone Number
            {{/view}}
          {{/view}}
        {{else}}
          <div class="no-contact-selected">No contact selected.</div>
        {{/if}}
      </script>
    </div>
  </body>
</html>

